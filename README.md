# create_x68k_dev
X68000ZのRAMディスクを使ってセルフ開発する環境を作るなにかです。

## 概要
X68000Zは現時点(2023/3/31)でHDDのサポートが無いため、単独での開発環境の構築が難しくなっています(コンパイラなどをFDDに入れるには容量が足りない等の理由)。

そこで、メモリ12MBを搭載しているX68kZのRAMディスクに、圧縮した開発環境を展開して、強引にセルフ開発をするための環境を作ってみました。

バッチファイル(シェルスクリプト)を実行する事で、ネットの海からコンパイラやらライブラリやらエディタやらを拾ってきて、開発用のディスクイメージを作成します。

## 使い方(ディスクイメージの作成l)

とりあえずgitからテキトーにCloneしてください(説明が雑)。

### Windowsの場合

`createdev68k.bat` を実行してください。

事前に `curl` `unzip` `lha` `tartool` がインストールされている必要があります(Chocolateyかなんかでインストールしてやってください)。

実行すると、実行したフォルダに dev01.xdf と dev02.xdf が作成されます。

### Macの場合

`createdev68k.sh` を実行してください。

事前に `curl` `unzip` `lha` `tar` がインストールされている必要があります(入ってなかったら、homebrewかなんかでインストールしてやってください)。

実行すると、実行したフォルダに dev01.xdf と dev02.xdf が作成されます。

## 開発環境の使い方

X68000Zのドライブ1にdev1.xdfを、ドライブ2にdev2.xdfを入れて起動してください。

起動するとログインを促されますので、ここで「root」と入力する事で、ドライブ2のdev2.xdfの中の圧縮ファイルがRAMディスクに展開され、開発環境が整います。

 RAMディスクへの環境の展開が終了すると、シェルとして fish.x が起動します。エディタは「EDR-plus」が入っていますので「ed hello.c」などでファイルの編集が可能です。

 gccがインストールされていますので、ソースを編集したら「gcc hello.c」などでコンパイル可能です。

 セルフ開発が出来ました！！バンザイ！
 
 ## 注意

* あんまり検証してないので動かないかもしれません。動かなかったら星の巡りが悪かったと思ってください。
* ファイルを消したりなど色々内部でやっているので、安全な環境で実行してください
* ネットの海から勝手に色々拾ってくる物騒なバッチファイル(シェルスクリプト)なので、これダメよ、というツッコミがあったら速攻消します
* COMMAND.X を使う環境は現状存在しません(一応「human」という名前でログインするとCOMMAND.X で起動しますが、何も出来ません)
* 入っているコンパイラはgcc真理子版(1.30 Tool#2(X680x0) based on GCC 1.42)です
* 最低限Hello, World!的な事が出来る事しか確認出来ていないため、何かおかしければツッコミまたはプルリクお待ちしています
* ファイラーや、グラフィックツール、サウンドツールなども入れたいのですが、そのあたりは保留しています(どれがいいのか……)
* バッチファイル(シェルスクリプト)を開くとわかりますが、かつてみんなが昔作っていた「オレオレ環境FDD」を作るためのベースとして使えると思うので、お好きに改造してお使いください

# ライセンス
Copyright (c) 2023 Hiroshi OGINO

以下に定める条件に従い、本ソフトウェアおよび関連文書のファイル（以下「ソフトウェア」）の複製を取得するすべての人に対し、ソフトウェアを無制限に扱うことを無償で許可します。これには、ソフトウェアの複製を使用、複写、変更、結合、掲載、頒布、サブライセンス、および/または販売する権利、およびソフトウェアを提供する相手に同じことを許可する権利も無制限に含まれます。

上記の著作権表示および本許諾表示を、ソフトウェアのすべての複製または重要な部分に記載するものとします。

ソフトウェアは「現状のまま」で、明示であるか暗黙であるかを問わず、何らの保証もなく提供されます。ここでいう保証とは、商品性、特定の目的への適合性、および権利非侵害についての保証も含みますが、それに限定されるものではありません。 作者または著作権者は、契約行為、不法行為、またはそれ以外であろうと、ソフトウェアに起因または関連し、あるいはソフトウェアの使用またはその他の扱いによって生じる一切の請求、損害、その他の義務について何らの責任も負わないものとします。 
